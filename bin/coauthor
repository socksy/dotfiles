#!/usr/bin/env bash

if [[ ! -r /proc/version ]]; then
  # on MAC: version is not readable at all
  clip_copy="pbcopy"
  clip_paste="pbpaste"
else
  # on "normal" linux
  clip_copy="xclip -sel clip"
  clip_paste="xclip -sel clip -o"
fi

COAUTHOR_PREFIX="\nCo-authored-by: "
coauthor_string=""

while :
do
  case "${1-}" in
    otto)
      coauthor_string+="${COAUTHOR_PREFIX}Otto Nascarella <otto@pitch.io>"
      shift
      ;;
    bjorn)
      coauthor_string+="${COAUTHOR_PREFIX}Björn Sperber <bjorn@pitch.io>" 
      shift
      ;;
    josh)
      coauthor_string+="${COAUTHOR_PREFIX}Joshua Smock <jo-sm@users.noreply.github.com>"
      shift
      ;;
    radhika)
      coauthor_string+="${COAUTHOR_PREFIX}Radhika Reddy <radhika@pitch.io>"
      shift
      ;;
    radhika)
      coauthor_string+="${COAUTHOR_PREFIX}Radhika Reddy <radhika@pitch.io>"
      shift
      ;;
    michal)
      coauthor_string+="${COAUTHOR_PREFIX}Michał Buczko <michal@pitch.io>"
      shift
      ;;
    ben)
      coauthor_string+="${COAUTHOR_PREFIX}Ben Lovell <ben@pitch.io>"
      shift
      ;;
    *)
      break
      ;;
  esac
done
echo -en $coauthor_string | $clip_copy
